<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Задача 4</title>
</head>
<body>
    <h1>Задача 4</h1>
    <p> Сформувати новий масив, що міститиме значення цін у відсотках стосовно максимального.</p>
    <script>
      // 1. Функція генерації масиву з рандомними значеннями від 1 до 3000
    let usersPeriod = parseInt(prompt('Print the number of the days'))
    function getArr(period, min=1, max=3000) {
      let arr = []
      for (let i = 0; i < period; i++) {  
        let randomElement = min + (Math.floor(Math.random()*max - min + min))
        arr.push(randomElement)
      }
      return arr
    }

    // 2. Створюємо масив з значеннями у відсотках
    const pricesList = getArr(usersPeriod)
    let maxNumber = Math.max(...pricesList) 

    let newArr = pricesList.map(price => ((price / maxNumber) * 100)); 

    // 3. Виводимо результат
    document.write(`Our array: ${pricesList}.<br>`)

    document.write(`Numbers in percentages: <br>`)
    for (let el of newArr) {
      document.write(`${el.toFixed(2)}<br>`)
    }

    /*const percentages = [];
    pricesList.forEach((price) => {
    const percentage = (price / maxNumber) * 100;
    percentages.push(percentage);  
    }); */
    </script>
    
</body>
</html>