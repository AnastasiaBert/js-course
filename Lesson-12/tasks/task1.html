<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 1</title>
</head>
<body>
    <h1>Задача 1</h1>
   <p> Дано масив 30 випадкових цілих чисел. Підрахувати скільки було обмінів під час сортування бульбашкою.</p>
   <script>
    // 1. Functions of generating random numbers and random array
    function getRandomNumber(min=1, max=100) {
      return min + Math.floor(Math.random() * (max - min + min))
    }

    function getArray(arrayLength=30, min=1, max=100) {
      const arr = []
      for (let i = 0; i < arrayLength; i++) {
        const element = arr[i];
        const randNum = getRandomNumber(min, max)
        arr.push(randNum)
      }
      return arr
    }

    // 2. Create function where will we use the bubble sort 
    // and where we will count the number of changes
    let generatedArray = getArray()
    function getChangesNumber(arr) {
      let changed 
      let counter = 0
      do {
        changed = false 
        for (let i = 1; i < arr.length; i++) {
          if (arr[i - 1] > arr[i]) { // for ascending order (from smallest to largest) // arr[i - 1] < arr[i] - for descending order (3.2,1)
            swap(arr, i, i - 1)
            counter++
            changed = true
          } 
        }
      } while (changed);
      return counter
    }
    
    // Function swap
    function swap(arr, i, k) {
      let temporary = arr[i]
      arr[i] = arr[k]
      arr[k] = temporary
    }

    // 3. Виводимо результат
    // 1 - 4 //
    document.write(`Array: ${generatedArray}<br>`)
    document.write(`The number of changes: ${getChangesNumber(generatedArray)}<br>`)
    
  </script>
</body>
</html>